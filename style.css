
:root{--paper:#fbf7ea;--ink:#2c2c2c;--muted:#7b7352;--line:#eadfb8;--card:#fffdf4;--card-edge:#e7dbad;--cta:#304d74;--cta-hover:#284366;--c-concert:#e36a5c;--c-travel:#5ea8ff;--c-dining:#f6b24c;--c-learning:#62c990;--c-wellness:#b394ff}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--ink);background:url('bg.png') center/cover no-repeat fixed;font-family:'Fira Sans',ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft Yahei","Noto Sans CJK SC",sans-serif}

@font-face{font-family:'BalonkuRegular';src:url('BalonkuRegular-la1w.otf') format('opentype');font-weight:normal;font-style:normal}
@font-face{font-family:'LostAges';src:url('LostAgesPersonalUseRegular-Ea0nl.ttf') format('truetype');font-weight:normal;font-style:normal}
.broider{border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAiJJREFUeF7tnEFyAjEMBCFv4P8v5A1JKsfVgWFKI9tJmqtkrdweqbS7wP3GJ0rgHo1GsBtAwyIAKEDDBMLhUChAwwTC4VAoQMMEwuFQKEDDBMLhUOhfB/r5fH45e/x4PI4SxVHJ/IAEqCOnN3wB+gYkx+XfA+0CcNerw6k91Y3f7cntHtpN2F0P0EKgqyCAAlRp4GqvJdtVoNvD3Jah8nOvX2nFe6hKWB2XuyGACqIALbeKKFTVoLB3S655ebl8dX7xHqp26Ja0iqfsAFWETDtATWDK/dcBrRtSc6kCMG2fzq/dQwF6JQDQ8BN/gJ4GVDX91WOS6sHT+bYVOp2gAuTap/MFqHi86B4YQHcDnS4ZVxFd//R+bIWmE+gC6a5P7weg4psq7pQCUIB2i/z1O7EaHYWavOmhJjDlDlBFyLQD1ASm3AGqCJl2gJrAlDtAFSHTvh2oeuXRneNMHrZ7GmBNwL5TAujrMwTo7sd3KHRYoQqwey9sN0VzAe/lTWDKHaCKkGkHqAlMuR8PVM11u+fS1fmNj00AVTVT7KsVYKa3/Me4KPT0wZ4fLbg1JEoeoAC9/INE984u3kNRaFihKlwX+HT84xQ6veHp+AAVY8/qOTneQ6cVNB1/u0LVBl37akW5+Sn/tkLVBVw7QF1iwh+gAL0QOK7kw+ezPBxAw8gBCtAwgXA4FArQMIFwOBQK0DCBcDgUCtAwgXA4FArQMIFwuG9T3yBzzMTFZwAAAABJRU5ErkJggg==") 28/28px/0 round;border-width:28px;border-style:solid}
.site-head{padding:18px 24px 6px;display:flex;gap:12px;align-items:baseline;justify-content:flex-end;box-sizing:border-box;width:100%}
.site-head .actions{margin-left:auto}
h1{font-size:20px;margin:0;font-weight:800}
.sub{color:var(--muted);font-size:12px}
.actions{display:flex;gap:8px}
  
  /* buttons */
.btn{appearance:none;border:1px solid rgba(231,219,173,0.6);background:rgba(250,242,207,0.7);color:var(--ink);padding:8px 12px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,0.1);backdrop-filter:blur(4px)}
.btn:hover{background:rgba(241,231,189,0.8);border-color:rgba(231,219,173,0.8)}
.btn.ghost{background:rgba(255,255,255,0.4);border-color:rgba(231,219,173,0.5)}
.btn.ghost:hover{background:rgba(255,255,255,0.6)}
.btn.accent{background:rgba(48,77,116,0.85);color:#fff;border-color:rgba(48,77,116,0.9);box-shadow:0 2px 4px rgba(0,0,0,0.2)}
.btn.accent:hover{background:rgba(40,67,102,0.9)}
.btn.xs{padding:4px 8px;line-height:1}
.btn.music-playing{background:rgba(255,244,201,0.8);animation:musicPulse 2s ease-in-out infinite}
@keyframes musicPulse{0%,100%{opacity:1}50%{opacity:0.7}}
.wrap{display:grid;grid-template-columns:1fr;gap:18px;padding:0 22px 28px;box-sizing:border-box}
.wrap.single{display:flex;flex-direction:column;align-items:center;width:100%;box-sizing:border-box;padding-left:22px;padding-right:22px}
.wrap.single .jar-card{width:100%;max-width:980px;box-sizing:border-box}
.only-jar .jar-card{margin:0 auto;max-width:980px}
.jar-card{position:relative;border:none;background:transparent;border-radius:0;padding:16px 16px 32px;box-shadow:none;display:flex;flex-direction:column;align-items:center}
.jar-header{margin-bottom:12px;text-align:center}
.jar-title{font-family:'BalonkuRegular',serif;font-size:28px;font-weight:800;color:var(--card);margin:0 0 12px 0;letter-spacing:-0.02em}
.jar-intro{font-family:'LostAges',ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;font-size:1.2em;color:var(--cta);line-height:1.2;margin:0;max-width:600px;margin-left:auto;margin-right:auto}
.jar-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.inline{display:flex;gap:8px;align-items:center}
.row{display:flex;gap:10px;align-items:center}
.row.end{justify-content:flex-end}

  
.fab{position:absolute;right:16px;top:12px;width:40px;height:40px;border-radius:12px;border:1px solid var(--card-edge);background:#fff4c9;color:#2c2c2c;font-weight:900;font-size:22px;line-height:40px;cursor:pointer;box-shadow:0 3px 10px rgba(0,0,0,.08)}
.fab:hover{background:#f6e9b4}
.jar{position:relative;height:640px;border-radius:16px;overflow:hidden;background:transparent;border:none;margin:16px auto 0;width:100%;max-width:100%;box-sizing:border-box}
  
.bottle {
  position: absolute;
  inset: auto;
  top: 50%;
  left: 50%;
  transform: translate(-55%, -50%);
  width: min(420px, 70%);
  height: auto;
  aspect-ratio: 3 / 5;
  border-radius: 16px;
  background: radial-gradient(ellipse 120% 80% at 30% 20%, rgba(255,255,255,0.6) 0%, transparent 50%),
              radial-gradient(ellipse 80% 100% at 70% 60%, rgba(255,255,255,0.3) 0%, transparent 60%),
              linear-gradient(180deg, rgba(255,248,222,0.35) 0%, rgba(247,239,204,0.3) 40%, rgba(230,220,190,0.25) 100%),
              linear-gradient(90deg, rgba(220,210,180,0.2) 0%, transparent 20%, transparent 80%, rgba(220,210,180,0.2) 100%);
  border: 3px solid rgba(255,255,255,0.8);
  box-shadow: inset -15px -10px 60px rgba(0,0,0,0.15),
              inset 15px 10px 60px rgba(255,255,255,0.4),
              inset 0 -40px 80px rgba(0,0,0,0.1),
              inset 0 20px 40px rgba(255,255,255,0.3),
              0 0 0 1px rgba(0,0,0,0.1),
              0 4px 20px rgba(0,0,0,0.2),
              0 8px 40px rgba(0,0,0,0.15);
  -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 520"><path d="M100 10h100v36c0 10 6 18 16 22 28 10 54 30 68 56 10 18 14 39 14 59v210c0 56-46 102-102 102h-32C78 495 32 449 32 393V183c0-20 4-41 14-59 14-26 40-46 68-56 10-4 16-12 16-22V10z" fill="black"/></svg>');
  mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 520"><path d="M100 10h100v36c0 10 6 18 16 22 28 10 54 30 68 56 10 18 14 39 14 59v210c0 56-46 102-102 102h-32C78 495 32 449 32 393V183c0-20 4-41 14-59 14-26 40-46 68-56 10-4 16-12 16-22V10z" fill="black"/></svg>');
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
}

.bottle::before{content:'';position:absolute;top:5%;left:35%;width:30%;height:15%;background:radial-gradient(ellipse,rgba(255,255,255,0.7) 0%,transparent 70%);border-radius:50%;pointer-events:none;z-index:1}
.bottle::after{content:'';position:absolute;top:30%;right:15%;width:25%;height:40%;background:linear-gradient(90deg,rgba(255,255,255,0.4) 0%,transparent 100%);border-radius:20px;pointer-events:none;z-index:1;transform:skewY(-5deg)}
.stars{position:absolute;inset:auto;top:50%;left:50%;transform:translate(-50%,-50%);width:min(420px,70%);height:auto;aspect-ratio:3/5;padding:0;pointer-events:none;-webkit-mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 520"><path d="M100 10h100v36c0 10 6 18 16 22 28 10 54 30 68 56 10 18 14 39 14 59v210c0 56-46 102-102 102h-32C78 495 32 449 32 393V183c0-20 4-41 14-59 14-26 40-46 68-56 10-4 16-12 16-22V10z" fill="black"/></svg>');mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 520"><path d="M100 10h100v36c0 10 6 18 16 22 28 10 54 30 68 56 10 18 14 39 14 59v210c0 56-46 102-102 102h-32C78 495 32 449 32 393V183c0-20 4-41 14-59 14-26 40-46 68-56 10-4 16-12 16-22V10z" fill="black"/></svg>');-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center;mask-position:center}
  
.star{position:absolute;display:grid;place-items:center;width:calc(var(--sz, 22px) * 1.3);height:calc(var(--sz, 22px) * 1.3);cursor:pointer;pointer-events:auto;user-select:none;transition:transform .15s ease,filter .2s ease,opacity .25s;filter:brightness(var(--b, 1));background:transparent;border:none;padding:0;margin:0}
.star:hover{transform:scale(1.12) rotate(-6deg)}
.star::before{content:"";width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center;position:relative;z-index:2;display:block}
.planned-yes::after,.planned-no::after{content:"";position:absolute;width:calc(var(--sz, 22px) * 1.25);height:calc(var(--sz, 22px) * 1.25);background-size:contain;background-repeat:no-repeat;background-position:center;z-index:1;transform:scale(1.15);pointer-events:none}
.planned-yes::after{opacity:0.5}
.planned-no::after{opacity:0.7;filter:blur(2px)}
.star.cat-concert.planned-yes::after,.star.cat-concert.planned-no::after{background-image:url('stars/red.png')}
.star.cat-travel.planned-yes::after,.star.cat-travel.planned-no::after{background-image:url('stars/blue.png')}
.star.cat-dining.planned-yes::after,.star.cat-dining.planned-no::after{background-image:url('stars/orange.png')}
.star.cat-learning.planned-yes::after,.star.cat-learning.planned-no::after{background-image:url('stars/green.png')}
.star.cat-wellness.planned-yes::after,.star.cat-wellness.planned-no::after{background-image:url('stars/purple.png')}
.star.cat-concert::before{background-image:url('stars/red.png')}
.star.cat-travel::before{background-image:url('stars/blue.png')}
.star.cat-dining::before{background-image:url('stars/orange.png')}
.star.cat-learning::before{background-image:url('stars/green.png')}
.star.cat-wellness::before{background-image:url('stars/purple.png')}
.cat-concert{color:var(--c-concert)}
.cat-travel{color:var(--c-travel)}
.cat-dining{color:var(--c-dining)}
.cat-learning{color:var(--c-learning)}
.cat-wellness{color:var(--c-wellness)}
.star.pour{animation:pour .9s ease both}
.star.out{opacity:0;pointer-events:none}
@keyframes dropIn{0%{transform:translateY(calc(-1 * var(--drop-offset-y, 250px))) translateX(var(--drop-offset-x, 0)) rotate(var(--r0,0deg)) scale(0.5);opacity:0}5%{opacity:1}45%{transform:translateY(0) translateX(0) rotate(var(--r1,8deg)) scale(1.1)}55%{transform:translateY(-12px) translateX(0) rotate(var(--r2,4deg)) scale(1)}65%{transform:translateY(0) translateX(0) rotate(var(--r3,2deg)) scale(1)}100%{transform:translateY(0) translateX(0) rotate(var(--r,0deg)) scale(1)}}
.star.drop{animation:dropIn 1.8s cubic-bezier(.34,1.56,.64,1) both !important;transition:none !important}
@keyframes pour{0%{transform:translateY(0) rotate(0);opacity:1}70%{transform:translateY(120px) rotate(18deg);opacity:1}100%{transform:translateY(160px) rotate(28deg);opacity:0}}
.legend{position:relative;display:flex;flex-wrap:wrap;gap:10px;padding:12px 16px;color:var(--ink);box-shadow:0 2px 8px rgba(0,0,0,0.1);overflow:hidden;margin-top:8px;margin-bottom:24px}
.legend .dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px}
.dot.cat-concert{background:var(--c-concert)}
.dot.cat-travel{background:var(--c-travel)}
.dot.cat-dining{background:var(--c-dining)}
.dot.cat-learning{background:var(--c-learning)}
.dot.cat-wellness{background:var(--c-wellness)}
.legend .lg{opacity:.9;font-weight:600}
.legend .dash{display:inline-block;width:22px;height:0;border-bottom:2px dashed rgba(0,0,0,.45);vertical-align:middle;margin-right:6px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.28);display:none;align-items:center;justify-content:center;z-index:10}
.modal.open{display:flex}
.folding-animation{position:fixed;top:0;left:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;z-index:9999;background:rgba(0,0,0,0.5);pointer-events:none}
.folding-animation[style*="display: flex"],.folding-animation[style*="display:flex"]{display:flex !important}
.folding-image{width:150px;height:150px;background-size:contain;background-repeat:no-repeat;background-position:center;image-rendering:crisp-edges;display:block}
.memo{position:relative;transform:rotate(-1.2deg)}
.memo-pin{position:absolute;width:16px;height:16px;background:#e85d5d;border-radius:50%;left:50%;top:-8px;transform:translateX(-50%);box-shadow:0 2px 6px #0006}
.memo-paper{width:min(760px, 92vw);background:#fffbe6;color:#2c2c2c;border:1px solid #d9cfa0;border-radius:14px;padding:14px 16px 12px;box-shadow:0 28px 80px rgba(0,0,0,.25);background-image:repeating-linear-gradient(to bottom, transparent 0 28px, #f1e9c4 28px 29px)}
.memo-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.memo-title{font-weight:800;font-size:18px}
.memo-meta{font-size:12px;color:#5c5530;display:flex;gap:10px;flex-wrap:wrap;margin-bottom:8px}
.memo-media{border:1px dashed #d0c79f;border-radius:10px;padding:8px;background:#fffdf2;display:grid;place-items:center;max-height:320px;margin-bottom:8px}
.memo-media img,.memo-media video{max-width:100%;max-height:320px;display:block}
.memo-text{white-space:pre-wrap;margin-bottom:6px}
.memo-section{margin-top:6px}
.memo-subtitle{font-weight:700;color:#4b4528;margin-bottom:4px}
.memo-roi{font-size:13px;color:#3c3620;margin-top:6px}
.memo-roi b{color:#0f7a52}
.memo-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
.modal .memo label{color:#4b4528}
.modal .memo input[type="number"]{background:#fffef6;color:#2c2c2c;border:1px solid #d9cfa0;border-radius:8px;padding:8px 10px;box-shadow:inset 0 1px 0 #ffffffcc}
.modal .memo input[type="number"]:focus{outline:none;border-color:#c8b977;box-shadow:0 0 0 2px #eadfa680,inset 0 1px 0 #ffffffcc}
.modal .memo .memo-actions .btn{background:#f3ebc7;color:#2c2c2c;border:1px solid #d9cfa0;border-radius:12px;padding:10px 14px;box-shadow:none}
.modal .memo .memo-actions .btn:hover{background:#eadfb8}
.modal .memo .memo-actions .btn.accent{background:#3c6f5e;color:#fff;border-color:#3c6f5e;box-shadow:none}
.modal .memo .memo-actions .btn.accent:hover{background:#335e50}
.modal .memo .memo-actions .btn.ghost{background:transparent;color:#6b5e2e;border:1px solid #d9cfa0}
.card{background:#fffbe6;background-image:repeating-linear-gradient(to bottom, transparent 0 28px, #f1e9c4 28px 29px);border:1px solid rgba(231,219,173,0.6);border-radius:18px;padding:20px 24px;box-shadow:0 28px 80px rgba(0,0,0,0.3)}
.add-card{width:min(860px, 92vw);max-height:90vh;overflow-y:auto}
.card-title{font-size:20px;font-weight:800;margin:0 0 16px 0;color:#3d3528;font-family:'BalonkuRegular'}
.add-card label{color:#5a4f3e}
.add-card input[type="text"],.add-card input[type="url"],.add-card input[type="date"],.add-card input[type="number"],.add-card select,.add-card textarea{background:rgba(255,252,245,0.9);border-color:rgba(220,200,170,0.7);color:#2c2c2c}
.sheet{width:min(860px, 92vw);background:#fffef7;color:#2c2c2c;border:1px solid var(--card-edge);border-radius:18px;padding:14px 16px 12px;box-shadow:0 28px 80px rgba(0,0,0,.25)}
.sheet-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.sheet h2{font-size:16px;margin:0;font-weight:800}
.grid{display:grid;gap:10px}
.grid.two{grid-template-columns:1fr 1fr}
@media (max-width:520px){.grid.two{grid-template-columns:1fr}}
label{font-size:12px;color:var(--muted)}
input[type="text"],input[type="url"],input[type="date"],input[type="number"],select,textarea{width:100%;padding:10px 12px;border:1px solid var(--card-edge);border-radius:12px;background:#fffef7;color:var(--ink);outline:none;box-shadow:inset 0 1px 0 #ffffffcc}
textarea{min-height:90px;resize:vertical}
.checkbox{gap:8px}
.empty{color:var(--muted);font-size:12px}
@media (max-width:768px){.jar{height:480px}.jar-title{font-size:24px}.jar-intro{font-size:16px;padding:0 8px}.star{font-size:calc(var(--sz, 22px) * 0.85)}.site-head{flex-direction:column;align-items:flex-start;gap:8px}.actions{width:100%;flex-wrap:wrap}.memo-paper,.sheet{width:95vw;max-height:85vh;overflow-y:auto}}
@media (min-width:769px) and (max-width:1024px){.jar{height:520px}}
@media (min-width:1025px){.jar-header{margin-bottom:10px}.jar-title{font-size:26px;margin-bottom:6px}.jar-intro{font-size:1.1em;line-height:1.3}.jar{height:calc(100vh - 280px);max-height:720px;min-height:580px}.legend{margin-top:6px;margin-bottom:16px}.jar-card{padding:16px 16px 24px}.wrap{max-width:1200px;margin:0 auto}}
  